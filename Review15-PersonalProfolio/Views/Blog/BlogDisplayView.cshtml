@using Review15PersonalProfolio.Models;
    

<div>
    @if (Model.Count() > 0)
    {


        @foreach (Post p in Model)
        {
            var responceList = p.Responces.ToList();
            <div class="post-container">
                <input type="hidden" name="postId" value=@p.PostId>
                @Html.DisplayFor(modelItem => p.Title)
                <div class="post-body">
                    <div class="post-img-container">
                        <img src="@Url.Content(@p.Img)" alt="@p.Alt" />
                    </div>
                    <div class="post-text">
                    @Html.DisplayTextFor(modelItem => p.Text)
                    </div>
                </div>
                @if (responceList.Count() > 0)
                {
                <span class="responce-reveal">Click to View Responces</span>
                 @foreach (Responce r in responceList)
                 {
                    <div class="responce-container">
                        <span>@r.User.ProfileName</span>
                     <div class="responce-text">
                         <p>
                            @r.ResponceText
                         </p>
                     </div>
                    </div>
                 }
                }
            </div>
        }
    }
    else
    {
        <h1>There are no blog posts at this time</h1>

    }
</div>
}  